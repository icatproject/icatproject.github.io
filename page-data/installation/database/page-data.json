{"componentChunkName":"component---src-templates-default-jsx","path":"/installation/database/","result":{"data":{"markdownRemark":{"html":"<p>This contains some guidance on setting up a database for ICAT and which\nto choose.<br>\nThe database system must be supported by eclipselink and must support\ntransactions and enforce foreign key constraints. This includes most\ndatabase systems you are likely to want as explained at <a href=\"http://wiki.eclipse.org/EclipseLink/FAQ/JPA#What_databases_are_supported.3F\">the eclipselink\nweb\nsite</a> It\nhas been tested with: MySQL, Oracle and Derby.</p>\n<p>You will need a schema/database with permissions for data definition\noperations such as \"CREATE TABLE ...\" and for data manipulation\noperation such as \"INSERT INTO ...\".</p>\n<p>Installation of those ICAT components that require a database will\nattempt to create the tables in the schema, but the schema itself must\nexist.</p>\n<p>If you are using <a href=\"/installation/glassfish/\" title=\"Glassfish\">Glassfish</a> You\nmust place a copy of the \"JDBC Connector\" for your database in the\nlib/ext directory below the domain where you will install ICAT. You\nshould get the connector from the database supplier. In the case of\nOracle and MySQL these may be both included in the Glassfish\ndistribution but must be copied to the lib directory. For Derby no\naction is required -- the connector is pre-installed.</p>\n<h1>MySQL</h1>\n<p>MySQL must be installed with InnoDB support and you must ensure that\nwhile installing ICAT the default engine is InnoDB. You can see the\ndefault engine by entering  <code>show engines;</code> at the mysql command prompt.\n To change the default on Linux add the line</p>\n<p>default-storage-engine=innodb</p>\n<p>to the [mysqld] section of /etc/my.cnf and restart mysqld.</p>\n<p>To fix an existing system you can use the ALTER TABLE command as\nexplained\nin: <a href=\"http://dev.mysql.com/doc/refman/5.1/en/storage-engine-setting.html\">http://dev.mysql.com/doc/refman/5.1/en/storage-engine-setting.html</a>.\nDon't forget to run <em>mysql_secure_installation</em> if your package\nmanager has not prompted you for a root password for the MySQL server.</p>\n<p>On more recent versions of MySQL/MariaDB the default character set has\nbeen changed which results in some keys being too long and so tables do\nnot get created. To avoid this problem always specify the default\ncharacter set as utf8 when creating a database. For example:</p>\n<p>create database icat DEFAULT CHARACTER SET utf8;</p>\n<h1>Oracle</h1>\n<p>Applications must be aware that Oracle does not treat empty strings\ncorrectly but stores them as NULL values. If you want your code to work\non Oracle and other databases you must code round this issue.</p>\n<p>To work properly with an RAC installation some options need setting in\nGlassfish. These will be set in future for updated components by the\nsetup scripts. For now, for each Oracle JDBC connection pool set the\nfollowing advanced properties:</p>\n<ul>\n<li>Validate At Most Once: 60</li>\n<li>Creation Retry Attempts: 10</li>\n<li>Connection Validation: Required</li>\n<li>Table Name: dual</li>\n</ul>\n<h1>Derby</h1>\n<p>Derby is not recommended for production use. There is much less\nexperience of it.</p>","frontmatter":{"title":"Database","date":null}}},"pageContext":{"slug":"/installation/database/"}},"staticQueryHashes":["2186722355","3212510956","3248290905","3649515864","4121107168"],"slicesMap":{}}