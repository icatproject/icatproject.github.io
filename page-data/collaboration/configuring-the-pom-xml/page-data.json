{"componentChunkName":"component---src-templates-default-jsx","path":"/collaboration/configuring-the-pom-xml/","result":{"data":{"markdownRemark":{"html":"<h1>Introduction</h1>\n<p>The examples below are derived from the pom file for the icat.server but\nthe icat.server text has been replaced by <code>xxx.yyy</code> to reduce the risk of\nwriting accidentally to the icat.server area.</p>\n<p>The maven repository is at <a href=\"https://repo.icatproject.org/repo\">https://repo.icatproject.org/repo</a>. Anybody\nmay read it but writing is only available to authorized individuals. The\nsite area (where maven writes documentation for components) is\nat <a href=\"https://repo.icatproject.org/site\">https://repo.icatproject.org/site</a>.</p>\n<h1>README.txt</h1>\n<p>This file contains URLs and giving the <code>xxx.yyy</code> as an example should look\nlike:</p>\n<pre><code>xxx.yyy\n\n-------\n\n\n\nGeneral installation instructions are at https://www.icatproject.org/installation/component\n\n\n\nSpecific installation instructions are at https://repo.icatproject.org/site/xxx/yyy/${project.version}/installation.html\n\n\n\nAll documentation on the xxx.yyy may be found at https://repo.icatproject.org/site/xxx/yyy/${project.version}\n</code></pre>\n<h1>pom.xml</h1>\n<p>The <code>groupId</code> should be <code>org.icatproject</code></p>\n<p>The <code>artifactId</code> should be one word (such as <code>topcat</code>) or two separated by a\ndot such as <code>icat.server</code> (or in this case <code>xxx.yyy</code>)</p>\n<p>The <code>version</code> should initially be <code>1.0.0-SNAPSHOT</code></p>\n<h2>&#x3C;properties> section</h2>\n<p>should contain</p>\n<pre><code> &#x3C;properties>\n\n     &#x3C;project.build.sourceEncoding>UTF-8&#x3C;/project.build.sourceEncoding>\n\n     &#x3C;project.reporting.outputEncoding>UTF-8&#x3C;/project.reporting.outputEncoding>\n\n     &#x3C;project.scm.id>github&#x3C;/project.scm.id>\n\n     &#x3C;gitUrl>https://github.com/icatproject/xxx.yyy&#x3C;/gitUrl>\n\n &#x3C;/properties>\n</code></pre>\n<p>where the <code>project.scm.id</code> identifies a section in your <code>.m2/settings.xml</code>\n-- this will be discussed later.</p>\n<p>Specifying the <code>gitUrl</code> simplifies the pom file.</p>\n<h2>&#x3C;repositories> section</h2>\n<p>this should contain</p>\n<pre><code> &#x3C;repositories>\n\n    &#x3C;repository>\n\n        &#x3C;id>ICAT Repo&#x3C;/id>\n\n        &#x3C;url>https://repo.icatproject.org/repo&#x3C;/url>\n\n    &#x3C;/repository>\n\n &#x3C;/repositories>\n</code></pre>\n<p>to permit your pom file to find other icat components</p>\n<h2>&#x3C;scm>, &#x3C;issueManagement>, &#x3C;licenses> and &#x3C;organization> sections</h2>\n<p>If you have specified <code>gitUrl</code> in the properties then the following will\nrequire no changes:</p>\n<pre><code>&#x3C;scm>\n\n   &#x3C;connection>scm:git:${gitUrl}.git&#x3C;/connection>\n\n   &#x3C;developerConnection>scm:git:${gitUrl}.git&#x3C;/developerConnection>\n\n   &#x3C;url>${gitUrl}&#x3C;/url>\n\n &#x3C;/scm>\n\n\n\n&#x3C;issueManagement>\n\n    &#x3C;url>${gitUrl}/issues&#x3C;/url>\n\n    &#x3C;system>GitHub&#x3C;/system>\n\n&#x3C;/issueManagement>\n\n\n\n&#x3C;licenses>\n\n    &#x3C;license>\n\n        &#x3C;name>Apache License, Version 2.0&#x3C;/name>\n\n        &#x3C;url>http://www.apache.org/licenses/LICENSE-2.0&#x3C;/url>\n\n    &#x3C;/license>\n\n&#x3C;/licenses>\n\n\n\n&#x3C;organization>\n\n    &#x3C;name>The ICAT Collaboration&#x3C;/name>\n\n    &#x3C;url>https://www.icatproject.org&#x3C;/url>\n\n&#x3C;/organization>\n</code></pre>\n<h2>&#x3C;distributionManagement> section</h2>\n<p>This section is used by maven to identify the site and repository areas\nand how to write to them. This example should only need the xxx and yyy\nsubstituting:</p>\n<pre><code>&#x3C;distributionManagement>\n\n    &#x3C;downloadUrl>https://repo.icatproject.org/repo&#x3C;/downloadUrl>\n\n    &#x3C;site>\n\n        &#x3C;id>repo.icatproject.org&#x3C;/id>\n\n        &#x3C;url>dav:https://repo.icatproject.org/site/xxx/yyy/${project.version}&#x3C;/url>\n\n    &#x3C;/site>\n\n    &#x3C;repository>\n\n        &#x3C;id>repo.icatproject.org&#x3C;/id>\n\n        &#x3C;url>dav:https://repo.icatproject.org/repo&#x3C;/url>\n\n    &#x3C;/repository>\n\n&#x3C;/distributionManagement>\n</code></pre>\n<p>The <code>&#x3C;id></code> value, in this case <code>repo.icatproject.org</code> again specifies a\nsection of the <code>~/.m2/settings.xml</code> file where authentication information\nis stored.</p>\n<h2>&#x3C;build> section</h2>\n<p>this must start off by defining extensions with a subsection of the\nform:</p>\n<pre><code>&#x3C;extensions>\n\n    &#x3C;extension>\n\n        &#x3C;groupId>org.apache.maven.wagon&#x3C;/groupId>\n\n        &#x3C;artifactId>wagon-webdav-jackrabbit&#x3C;/artifactId>\n\n        &#x3C;version>2.10&#x3C;/version>\n\n    &#x3C;/extension>\n\n&#x3C;/extensions>\n</code></pre>\n<p>the version (2.10) is currently the most up to date but should be\nchanged when something better comes along.</p>\n<p>This is followed by a plugins section with a specification of each maven\nplugin used by the pom. It is good practice to list them all to ensure\nthat you get a know version. If you don't then you will get warnings and\nerror messages and the project may not build.  You will certainly need\nthe plugins for: compiler, site, deploy and release. For the release\nplugin you might like to specify:</p>\n<pre><code>&#x3C;plugin>\n\n    &#x3C;groupId>org.apache.maven.plugins&#x3C;/groupId>\n\n    &#x3C;artifactId>maven-release-plugin&#x3C;/artifactId>\n\n    &#x3C;version>2.5.2&#x3C;/version>\n\n    &#x3C;configuration>\n\n        &#x3C;tagNameFormat>v@{project.version}&#x3C;/tagNameFormat>\n\n    &#x3C;/configuration>\n\n&#x3C;/plugin>\n</code></pre>\n<p>so that the tag does not contain redundant information.</p>\n<h2>~/.m2/settings.xml</h2>\n<p>This file must contain at least the following:</p>\n<pre><code>&#x3C;settings>\n\n    &#x3C;servers>\n\n        &#x3C;server>\n\n            &#x3C;id>repo.icatproject.org&#x3C;/id>\n\n            &#x3C;username>uuu1&#x3C;/username>\n\n            &#x3C;password>ppp1&#x3C;/password>\n\n        &#x3C;/server>\n\n        &#x3C;server>\n\n            &#x3C;id>github&#x3C;/id>\n\n            &#x3C;username>uuu2&#x3C;/username>\n\n            &#x3C;password>ppp2&#x3C;/password>\n\n        &#x3C;/server>\n\n    &#x3C;/servers>\n\n&#x3C;/settings>\n</code></pre>\n<p>where <code>uuu1</code>/<code>ppp1</code> is the username and password for webdav access to\n<code>repo.icatproject.org</code> and <code>uuu2</code>/<code>ppp2</code> is the username and password for your\ngithub account. This information will not be transmitted in plaintext.</p>\n<h1>Testing the pom</h1>\n<p>The following command:</p>\n<pre><code>mvn clean deploy site site:deploy\n</code></pre>\n<p>will produce a snapshot. To perform a release use:</p>\n<pre><code>mvn release:prepare\n\nmvn release:perform\n</code></pre>","frontmatter":{"title":"Configuring the pom.xml","date":null}}},"pageContext":{"slug":"/collaboration/configuring-the-pom-xml/"}},"staticQueryHashes":["2186722355","3212510956","3248290905","3649515864","4121107168"],"slicesMap":{}}